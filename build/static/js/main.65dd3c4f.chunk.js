(this["webpackJsonpvox-blog"]=this["webpackJsonpvox-blog"]||[]).push([[0],{49:function(e,t,r){"use strict";r.r(t);var a=r(2),c=r(1),n=r.n(c),s=r(17),i=r.n(s),o=r(29),l=(r(37),r(40),o.a.initializeApp({apiKey:"AIzaSyDVqAACR_OHHipPSnliAKC-61KlNbSkAuQ",authDomain:"vox-blog.firebaseapp.com",databaseURL:"https://vox-blog.firebaseio.com",projectId:"vox-blog",storageBucket:"vox-blog.appspot.com",messagingSenderId:"96052002749",appId:"1:96052002749:web:15609e55e3831695115cd4",measurementId:"G-L5L5ES64JD"})),u=l.firestore(),d=l,b=(r(42),r(21)),j=r(4),m=r(14),p=(r(43),r(18)),h=n.a.createContext(),O=function(e){var t=e.children,r=Object(c.useState)(null),n=Object(p.a)(r,2),s=n[0],i=n[1],o=Object(c.useState)(!0),l=Object(p.a)(o,2),u=l[0],b=l[1];return Object(c.useEffect)((function(){d.auth().onAuthStateChanged((function(e){i(e),b(!1)}))}),[]),u?Object(a.jsx)(a.Fragment,{children:"Loading..."}):Object(a.jsx)(h.Provider,{value:{currentUser:s},children:t})},x=r(10),f=r(31),v=function(e){var t=e.component,r=Object(f.a)(e,["component"]),n=Object(c.useContext)(h).currentUser;return Object(a.jsx)(j.b,Object(x.a)(Object(x.a)({},r),{},{render:function(e){return n?Object(a.jsx)(t,Object(x.a)({},e)):Object(a.jsx)(j.a,{to:"/login"})}}))},g=r(9),N=r.n(g),w=r(15),k=Object(j.f)((function(e){var t=e.history,r=Object(c.useCallback)(function(){var e=Object(w.a)(N.a.mark((function e(r){var a,c,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a=r.target.elements,c=a.email,n=a.password,e.prev=2,e.next=5,d.auth().signInWithEmailAndPassword(c.value,n.value);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(c.useContext)(h).currentUser?Object(a.jsx)(j.a,{to:"/"}):Object(a.jsxs)("div",{className:"col-md-6",children:[Object(a.jsx)("h1",{children:"Log in"}),Object(a.jsxs)("form",{className:"card card-body",onSubmit:r,children:[Object(a.jsx)("div",{className:"form-group input-group",children:Object(a.jsxs)("label",{children:["Email",Object(a.jsx)("input",{className:"form-control",name:"email",type:"email",placeholder:"Email"})]})}),Object(a.jsx)("div",{className:"form-group input-group",children:Object(a.jsxs)("label",{children:["Password",Object(a.jsx)("input",{className:"form-control",name:"password",type:"password",placeholder:"Password"})]})}),Object(a.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Log in"})]})]})})),y=Object(j.f)((function(e){var t=e.history,r=Object(c.useCallback)(function(){var e=Object(w.a)(N.a.mark((function e(r){var a,c,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a=r.target.elements,c=a.email,n=a.password,e.prev=2,e.next=5,d.auth().createUserWithEmailAndPassword(c.value,n.value);case 5:t.push("/"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),m.b.error("hay un error \ud83d\udc7d",{hideProgressBar:!1}),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(a.jsxs)("div",{className:"col-md-6",children:[Object(a.jsx)("h1",{children:"Sign up"}),Object(a.jsxs)("form",{className:"card card-body",onSubmit:r,children:[Object(a.jsx)("div",{className:"form-group input-group",children:Object(a.jsxs)("label",{children:["Email",Object(a.jsx)("input",{name:"email",type:"email",placeholder:"Email",className:"form-control"})]})}),Object(a.jsx)("div",{className:"form-group input-group",children:Object(a.jsxs)("label",{children:["Password",Object(a.jsx)("input",{name:"password",type:"password",placeholder:"Password",className:"form-control"})]})}),Object(a.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Sign Up"})]})]})})),C=function(){return Object(a.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark",children:[Object(a.jsx)(b.b,{className:"navbar-brand",to:"/",children:"Home"}),Object(a.jsx)("div",{className:"navbar-collapse"})]})},S=r(23),E=function(e){var t=e.addEditComment,r=e.currentId,n=(e.links,{url:"",author:"",description:""}),s=Object(c.useState)(n),i=Object(p.a)(s,2),o=i[0],l=i[1],d=function(e){var t=e.target,r=t.name,a=t.value;l(Object(x.a)(Object(x.a)({},o),{},Object(S.a)({},r,a)))},b=function(){var e=Object(w.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.collection("comments").doc(t).get();case 2:r=e.sent,l(Object(x.a)({},r.data()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){""===r?l(Object(x.a)({},n)):b(r)}),[r]),Object(a.jsx)("div",{className:"col-md-6",children:Object(a.jsxs)("form",{className:"card card-body",onSubmit:function(e){if(e.preventDefault(),r=o.url,!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(r))return m.b.error("url inv\xe1lida \ud83d\udc7d",{hideProgressBar:!1});var r;t(o),l(Object(x.a)({},n))},children:[Object(a.jsxs)("div",{className:"form-group input-group",children:[Object(a.jsx)("div",{className:"input-group-text bg-ligth",children:Object(a.jsx)("i",{className:"material-icons",children:"sentiment_satisfied"})}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"url",id:"",placeholder:"\xbfQu\xe9 recomiendas? Pega aqu\xed el link",onChange:d,value:o.url})]}),Object(a.jsxs)("div",{className:"form-group input-group",children:[Object(a.jsx)("div",{className:"input-group-text bg-ligth",children:Object(a.jsx)("i",{className:"material-icons",children:"create"})}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"author",id:"",placeholder:"Nombre de la fuente",onChange:d,value:o.author})]}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("textarea",{name:"description",className:"form-control",rows:"3",placeholder:"Escribe sobre tu recomendaci\xf3n. jeje no se puede, est\xe1 bloqueda la escritura en la db \ud83d\ude05",onChange:d,value:o.description})}),Object(a.jsx)("button",{className:"btn btn-primary",children:""===r?"Guardar":"Actualizar"})]})})},P=function(e){var t=e.links,r=e.deleteComment,c=e.setCurrentId;return Object(a.jsx)("div",{className:"col-md-6",children:t.map((function(e){return Object(a.jsx)("div",{className:"card mt-2",children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(a.jsx)("h4",{children:e.author}),Object(a.jsxs)("div",{children:[Object(a.jsx)("i",{className:"material-icons text-green",onClick:function(){return c(e.id)},children:"create"}),Object(a.jsx)("i",{className:"material-icons text-danger",onClick:function(){return r(e.id)},children:"close"})]})]}),Object(a.jsx)("p",{children:e.description}),Object(a.jsx)("a",{href:e.url,target:"_blank",children:" Go to website"})]})},e.id)}))})},z=function(){var e=Object(c.useState)([]),t=Object(p.a)(e,2),r=t[0],n=t[1],s=Object(c.useState)(""),i=Object(p.a)(s,2),o=i[0],l=i[1],b=function(){var e=Object(w.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==o){e.next=7;break}return e.next=4,u.collection("comments").doc().set(t);case 4:m.b.dark("nueva recomendaci\xf3n agregada \ud83d\ude0e",{hideProgressBar:!1}),e.next=11;break;case 7:return e.next=9,u.collection("comments").doc(o).update(t);case 9:m.b.dark("enlace actualizado satisfactoriamente \ud83d\ude0e",{hideProgressBar:!1}),l("");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),m.b.dark("sucedi\xf3 un error \ud83d\ude30",{hideProgressBar:!1});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(w.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("quieres borrar el enlace?")){e.next=4;break}return e.next=3,u.collection("comments").doc(t).delete();case 3:m.b.error("se borr\xf3 la recomendaci\xf3n \ud83d\udc7d",{hideProgressBar:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){u.collection("comments").onSnapshot((function(e){var t=[];e.forEach((function(r){if(t.push(Object(x.a)(Object(x.a)({},r.data()),{},{id:r.id})),t.length===e.size)return n(t)}))}))}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C,{}),Object(a.jsxs)("div",{className:"container p-4",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)(E,Object(x.a)({},{addEditComment:b,currentId:o,links:r})),Object(a.jsx)(P,{links:r,deleteComment:j,setCurrentId:l})]}),Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){return d.auth().signOut()},children:"Sign Out"})]})]})},I=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(O,{children:Object(a.jsx)(b.a,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)(v,{exact:!0,path:"/",component:z}),Object(a.jsx)(j.b,{exact:!0,path:"/singup",component:y}),Object(a.jsx)(j.b,{exact:!0,path:"/login",component:k}),Object(a.jsx)(m.a,{})]})})})})},A=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(I,{})})};i.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(A,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.65dd3c4f.chunk.js.map